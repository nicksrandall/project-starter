!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("angular"),require("jquery"),require("lodash"));else if("function"==typeof define&&define.amd)define(["angular","jquery","lodash"],n);else{var t="object"==typeof exports?n(require("angular"),require("jquery"),require("lodash")):n(e.angular,e.$,e._);for(var r in t)("object"==typeof exports?exports:e)[r]=t[r]}}(this,function(e,n,t){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="/dist/",n(0)}([function(e,n,t){{var r=t(1);t(2),t(3)}t(4),r.module("project",[t(9)(r)])},function(n,t){n.exports=e},function(e,t){e.exports=n},function(e,n){e.exports=t},function(e,n,t){t(5)},function(e,n,t){var r=t(6);"string"==typeof r&&(r=[[e.id,r,""]]);t(8)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){n=e.exports=t(7)(),n.push([e.id,".default-text {\n  color: #555; }\n","",{version:3,sources:["common/app/common/scss/main.scss","common/app/common/scss/mixins/_mixins.scss","common/app/common/scss/mixins/_variables.scss"],names:[],mappings:"AAGA;ECAE,YCFe,EFEF",file:"common/scss/main.scss",sourcesContent:['// load common styles\n@import "mixins/mixins";\n\n.default-text {\n  @include default-text-color;\n}\n','@import "variables";\n\n@mixin default-text-color() {\n  color: $text-color;\n}',"// common variables\n$text-color: #555;"]}])},function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var t=this[n];e.push(t[2]?"@media "+t[2]+"{"+t[1]+"}":t[1])}return e.join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(r[s]=!0)}for(o=0;o<n.length;o++){var i=n[o];"number"==typeof i[0]&&r[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),e.push(i))}},e}},function(e,n,t){function r(e,n){for(var t=0;t<e.length;t++){var r=e[t],o=l[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(a(r.parts[s],n))}else{for(var i=[],s=0;s<r.parts.length;s++)i.push(a(r.parts[s],n));l[r.id]={id:r.id,refs:1,parts:i}}}}function o(e){for(var n=[],t={},r=0;r<e.length;r++){var o=e[r],s=o[0],i=o[1],a=o[2],c=o[3],u={css:i,media:a,sourceMap:c};t[s]?t[s].parts.push(u):n.push(t[s]={id:s,parts:[u]})}return n}function s(){var e=document.createElement("style"),n=m();return e.type="text/css",n.appendChild(e),e}function i(){var e=document.createElement("link"),n=m();return e.rel="stylesheet",n.appendChild(e),e}function a(e,n){var t,r,o;if(n.singleton){var a=h++;t=v||(v=s()),r=c.bind(null,t,a,!1),o=c.bind(null,t,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=i(),r=f.bind(null,t),o=function(){t.parentNode.removeChild(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(),r=u.bind(null,t),o=function(){t.parentNode.removeChild(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}function c(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(n,o);else{var s=document.createTextNode(o),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(s,i[n]):e.appendChild(s)}}function u(e,n){{var t=n.css,r=n.media;n.sourceMap}if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}function f(e,n){var t=n.css,r=(n.media,n.sourceMap);r&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([t],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var l={},p=function(e){var n;return function(){return"undefined"==typeof n&&(n=e.apply(this,arguments)),n}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,h=0;e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=d());var t=o(e);return r(t,n),function(e){for(var s=[],i=0;i<t.length;i++){var a=t[i],c=l[a.id];c.refs--,s.push(c)}if(e){var u=o(e);r(u,n)}for(var i=0;i<s.length;i++){var c=s[i];if(0===c.refs){for(var f=0;f<c.parts.length;f++)c.parts[f]();delete l[c.id]}}}};var x=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}()},function(e,n,t){e.exports=function(e){t(10);var n="project.submodule",r=e.module(n,[]);return t(12)(r),t(13)(r),n}},function(e,n,t){var r=t(11);"string"==typeof r&&(r=[[e.id,r,""]]);t(8)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){n=e.exports=t(7)(),n.push([e.id,".feature-container {\n  color: #555; }\n","",{version:3,sources:["app/feature/_feature.scss","app/common/scss/mixins/_variables.scss"],names:[],mappings:"AAEA;EACE,YCFe,EDCG",file:"feature/_feature.scss",sourcesContent:['@import "../common/scss/mixins/mixins";\n\n.feature-container {\n  color: $text-color;\n}',"// common variables\n$text-color: #555;"]}])},function(e,n){var t=function(){function e(){this.bindMe="Hello World"}return e}();e.exports=function(e){e.controller("FeatureCtrl",t)}},function(e,n,t){e.exports=function(e){e.directive("featureName",["$timeout",function(e){return{restrict:"EA",template:t(14),link:function(e,n,t){e.bindMe="hello world"}}}])}},function(e,n){e.exports='<div class="feature-container">{{bindMe}}</div>'}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3QubWluLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18iLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsImFuZ3VsYXIiLCJjb250ZW50IiwibG9jYWxzIiwicHVzaCIsInZlcnNpb24iLCJzb3VyY2VzIiwibmFtZXMiLCJtYXBwaW5ncyIsImZpbGUiLCJzb3VyY2VzQ29udGVudCIsImxpc3QiLCJ0b1N0cmluZyIsInJlc3VsdCIsImxlbmd0aCIsIml0ZW0iLCJqb2luIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwYXJ0IiwiY3JlYXRlU3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaGVhZCIsImdldEhlYWRFbGVtZW50IiwidHlwZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJsaW5rRWxlbWVudCIsInJlbCIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInNpbmdsZXRvbiIsInN0eWxlSW5kZXgiLCJzaW5nbGV0b25Db3VudGVyIiwic2luZ2xldG9uRWxlbWVudCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJiaW5kIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJ1cGRhdGVMaW5rIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaHJlZiIsImFwcGx5VG9UYWciLCJuZXdPYmoiLCJpbmRleCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwicmVwbGFjZVRleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwiaW5zZXJ0QmVmb3JlIiwic2V0QXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJtZW1vaXplIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc09sZElFIiwidGVzdCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwibW9kdWxlTmFtZSIsIm5nTW9kdWxlIiwiRmVhdHVyZUN0cmwiLCJiaW5kTWUiLCJjb250cm9sbGVyIiwiZGlyZWN0aXZlIiwiJHRpbWVvdXQiLCJyZXN0cmljdCIsInRlbXBsYXRlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDaEQsR0FBc0IsZ0JBQVpDLFVBQTBDLGdCQUFYQyxRQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUFZQSxRQUFRLFVBQVdBLFFBQVEsZUFDcEUsSUFBcUIsa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUM5Q0QsUUFBUSxVQUFXLFNBQVUsVUFBV0osT0FDcEMsQ0FDSixHQUFJTSxHQUF1QixnQkFBWkwsU0FBdUJELEVBQVFHLFFBQVEsV0FB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Q3hCNUcsRUFBb0IsSUFBSTRHLEdBRWpCRCxJQUtKLFNBQVN0SCxFQUFRRCxFQUFTWSxHQUsvQixHQUFJVSxHQUFVVixFQUFvQixHQUNaLGlCQUFaVSxLQUFzQkEsSUFBWXJCLEVBQU9jLEdBQUlPLEVBQVMsS0FFbkRWLEdBQW9CLEdBQUdVLEtBQ2pDQSxHQUFRQyxTQUFRdEIsRUFBT0QsUUFBVXNCLEVBQVFDLFNBaUJ2QyxTQUFTdEIsRUFBUUQsRUFBU1ksR0FFL0JaLEVBQVVDLEVBQU9ELFFBQVVZLEVBQW9CLEtBQy9DWixFQUFRd0IsTUFBTXZCLEVBQU9jLEdBQUksMkNBQTRDLElBQUtVLFFBQVUsRUFBRUMsU0FBVyw0QkFBNEIsMENBQTBDQyxTQUFXQyxTQUFXLHNCQUFzQkMsS0FBTyx3QkFBd0JDLGdCQUFrQiw0RkFBOEYsK0NBSTdWLFNBQVM3QixFQUFRRCxHQUV0QixHQUFJeUgsR0FBYyxXQUNkLFFBQVNBLEtBQ0xsSCxLQUFLbUgsT0FBUyxjQUVsQixNQUFPRCxLQUVYeEgsR0FBT0QsUUFBVSxTQUFVd0gsR0FDdkJBLEVBQVNHLFdBQVcsY0FBZUYsS0FNbEMsU0FBU3hILEVBQVFELEVBQVNZLEdBRS9CWCxFQUFPRCxRQUFVLFNBQVV3SCxHQUN2QkEsRUFBU0ksVUFBVSxlQUFnQixXQUFZLFNBQVVDLEdBQ3JELE9BQ0lDLFNBQVUsS0FDVkMsU0FBVW5ILEVBQW9CLElBQzlCb0gsS0FBTSxTQUFVQyxFQUFPQyxFQUFTQyxHQUU1QkYsRUFBTVAsT0FBUyxxQkFTMUIsU0FBU3pILEVBQVFELEdBRXRCQyxFQUFPRCxRQUFVIiwiZmlsZSI6InByb2plY3QubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiYW5ndWxhclwiKSwgcmVxdWlyZShcImpxdWVyeVwiKSwgcmVxdWlyZShcImxvZGFzaFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJhbmd1bGFyXCIsIFwianF1ZXJ5XCIsIFwibG9kYXNoXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJhbmd1bGFyXCIpLCByZXF1aXJlKFwianF1ZXJ5XCIpLCByZXF1aXJlKFwibG9kYXNoXCIpKSA6IGZhY3Rvcnkocm9vdFtcImFuZ3VsYXJcIl0sIHJvb3RbXCIkXCJdLCByb290W1wiX1wiXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcblxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cblxuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuXHR2YXIgYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdC8vIHJlcXVpcmUgY29tbW9uIHNjc3Ncblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHQvLyBtYWluIG1vZHVsZVxuXHRhbmd1bGFyLm1vZHVsZSgncHJvamVjdCcsIFtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpKGFuZ3VsYXIpXG5cdCAgLy8gbW9yZSBmZWF0dXJlcyBnbyBoZXJlLiBcblx0XSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F1dG9wcmVmaXhlci1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vbWFpbi5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F1dG9wcmVmaXhlci1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vbWFpbi5zY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KSgpO1xuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZGVmYXVsdC10ZXh0IHtcXG4gIGNvbG9yOiAjNTU1OyB9XFxuXCIsIFwiXCIsIHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcImNvbW1vbi9hcHAvY29tbW9uL3Njc3MvbWFpbi5zY3NzXCIsXCJjb21tb24vYXBwL2NvbW1vbi9zY3NzL21peGlucy9fbWl4aW5zLnNjc3NcIixcImNvbW1vbi9hcHAvY29tbW9uL3Njc3MvbWl4aW5zL192YXJpYWJsZXMuc2Nzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFHQTtFQ0FFLFlDRmUsRUZFRlwiLFwiZmlsZVwiOlwiY29tbW9uL3Njc3MvbWFpbi5zY3NzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8vIGxvYWQgY29tbW9uIHN0eWxlc1xcbkBpbXBvcnQgXFxcIm1peGlucy9taXhpbnNcXFwiO1xcblxcbi5kZWZhdWx0LXRleHQge1xcbiAgQGluY2x1ZGUgZGVmYXVsdC10ZXh0LWNvbG9yO1xcbn1cXG5cIixcIkBpbXBvcnQgXFxcInZhcmlhYmxlc1xcXCI7XFxuXFxuQG1peGluIGRlZmF1bHQtdGV4dC1jb2xvcigpIHtcXG4gIGNvbG9yOiAkdGV4dC1jb2xvcjtcXG59XCIsXCIvLyBjb21tb24gdmFyaWFibGVzXFxuJHRleHQtY29sb3I6ICM1NTU7XCJdfV0pO1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHQvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gbGlzdDtcclxuXHR9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDA7XHJcblxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdFx0aWYoZmFsc2UpIHtcclxuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cclxuXHRcdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHRcdHZhciBzdHlsZXMgPSBbXTtcclxuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3R5bGVzO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KCkge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KCkge1xyXG5cdFx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0XHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQobGlua0VsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQoKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudCgpO1xyXG5cdFx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cclxuXHRmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRcdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdFx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblxyXG5cdFx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdFx0aWYob2xkU3JjKVxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHQgIHZhciBtb2R1bGVOYW1lID0gJ3Byb2plY3Quc3VibW9kdWxlJztcblx0ICB2YXIgbmdNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lLCBbXG5cdCAgICAvLyBvcHRpb25hbGx5IGluamVjdCBkZXBlbmRlbmNpZXMgZm9yIHRoaXMgZmVhdHVyZS5cblx0ICBdKTtcblx0ICBcblx0ICAvLyBsb2FkIG1vZHVsZSBjb21wb25lbnRzXG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXygxMikobmdNb2R1bGUpO1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oMTMpKG5nTW9kdWxlKTtcblxuXHQgIHJldHVybiBtb2R1bGVOYW1lO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2F1dG9wcmVmaXhlci1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanM/c291cmNlTWFwIS4vX2ZlYXR1cmUuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLy4uLy4uL25vZGVfbW9kdWxlcy9hdXRvcHJlZml4ZXItbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuL19mZWF0dXJlLnNjc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KSgpO1xuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZmVhdHVyZS1jb250YWluZXIge1xcbiAgY29sb3I6ICM1NTU7IH1cXG5cIiwgXCJcIiwge1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wiYXBwL2ZlYXR1cmUvX2ZlYXR1cmUuc2Nzc1wiLFwiYXBwL2NvbW1vbi9zY3NzL21peGlucy9fdmFyaWFibGVzLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7RUFDRSxZQ0ZlLEVEQ0dcIixcImZpbGVcIjpcImZlYXR1cmUvX2ZlYXR1cmUuc2Nzc1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IFxcXCIuLi9jb21tb24vc2Nzcy9taXhpbnMvbWl4aW5zXFxcIjtcXG5cXG4uZmVhdHVyZS1jb250YWluZXIge1xcbiAgY29sb3I6ICR0ZXh0LWNvbG9yO1xcbn1cIixcIi8vIGNvbW1vbiB2YXJpYWJsZXNcXG4kdGV4dC1jb2xvcjogIzU1NTtcIl19XSk7XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIEZlYXR1cmVDdHJsID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEZlYXR1cmVDdHJsKCkge1xuXHQgICAgICAgIHRoaXMuYmluZE1lID0gJ0hlbGxvIFdvcmxkJztcblx0ICAgIH1cblx0ICAgIHJldHVybiBGZWF0dXJlQ3RybDtcblx0fSkoKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmdNb2R1bGUpIHtcblx0ICAgIG5nTW9kdWxlLmNvbnRyb2xsZXIoJ0ZlYXR1cmVDdHJsJywgRmVhdHVyZUN0cmwpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmdNb2R1bGUpIHtcblx0ICAgIG5nTW9kdWxlLmRpcmVjdGl2ZSgnZmVhdHVyZU5hbWUnLCBbXCIkdGltZW91dFwiLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IF9fd2VicGFja19yZXF1aXJlX18oMTQpLFxuXHQgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBsaW5rIGxvZ2ljXG5cdCAgICAgICAgICAgICAgICBzY29wZS5iaW5kTWUgPSAnaGVsbG8gd29ybGQnO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgIH1dKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJmZWF0dXJlLWNvbnRhaW5lclxcXCI+e3tiaW5kTWV9fTwvZGl2PlwiXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2plY3QuanMubWFwIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9